<div ng-controller="AdminUsersController">

    <h2>List of registered users</h2>

    <div class="alert alert-danger animated fadeIn" ng-show="error">{{ error }}</div>

    {{ numberOfAdmins }}

    <table class="table table-striped table-hover" ng-cloak>
        <thead>
        <tr>
            <th>#</th>
            <th>Email</th>
            <th>Roles</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
            <tr ng-repeat="user in users">
                <td>{{$index + 1}}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.roles }}</td>
                <td>
                    <button class="btn btn-default" ng-click="makeAdmin(user)" ng-hide="user.isAdmin">Assign admin rights</button>
                    <button class="btn btn-default" ng-click="revokeAdmin(user)" ng-show="user.isAdmin" disabled="{{ numberOfAdmins <= 1 }}">Revoke admin rights</button>
                    <button class="btn btn-default" ng-click="remove(user)" ng-disabled="user.isAdmin">Delete</button>
                </td>
            </tr>
        </tbody>
    </table>

</div>